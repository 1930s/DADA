# Log分析進階

## 前言

我們已經稍微瞭解了Log的重要性，以及如何快速的從Log中找出一些我們想知道的事情。但，想到才去做總還是比不上讓電腦自動把資訊匯總給你，甚至讓電腦自動做出反應，對吧？

這是「戰情分析」系列課程

我們會一路從「Log概論」、「Log分析」、「Log處理」、「SOC」、「資安戰情室」一路深入，最終我們將能掌握自己的系統，看到駭客，並作出回應


_這不是傳統的課程，請不要來「聽課」，腦袋硬梆梆的是做不好資安的，請不吝跟大家分享想法_

另外如果你已經有相當經驗，可以跳過這堂課，但也歡迎來聊天

授權方式 [CC: BY-SA](https://creativecommons.org/licenses/by-sa/3.0/tw/legalcode) 

黑魔法防禦術 FB群組 => [](https://www.facebook.com/groups/308549376151517)[https://www.facebook.com/groups/308549376151517](https://www.facebook.com/groups/308549376151517)

加入請記得回答問題喔，如果一直沒收到加入回覆，請發個訊息跟我聯絡，或看一下收件夾

## 如何成為一個好的Log分析師？

* 對環境架構的了解
* Domain Knowledge
* 對分析工具的熟悉程度
  * 報表
  * 視覺化
* 經驗
* 表達能力
  * Log分析的目的

## 弱點與駭客攻擊


### 駭客的目標

*   抹除蹤跡
*   誤導方向
*   探索內部、搜尋攻擊目標
*   直接攻擊高權限的管理者

### 攻擊手法

*   篡改內容
    *   換行字元
    *   假造欄位資訊
    *   超長數據覆蓋
    *   格式破壞
    *   XSS / SQL injection
*   刪除檔案
*   Span

### 對抗手法

#### 權限配置

如前面提到的，駭客對於log的興趣與可以獲得的利益遠比系統管理者還大，所以避免log被隨意讀取是非常重要的事情

-rw-r-----  640是常見的配置 

可公開的log才會出現644

進階安全性：append only

*   chattr +a test.log

或SELinux

但，根據對方打得深入程度，本機的安全性遲早會被破的，所以Log的異地備援與即時分析成為了重點

#### 架構安全

* 單向傳輸
  * 吸血鬼牙
  * LPR的笑話
* 不可否認性
